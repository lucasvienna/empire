# v0.1.0 Dependency Graph & Critical Path

This document visualizes the dependency relationships between issues and milestones for Empire
v0.1.0.

---

## Milestone Dependencies

```
Foundation (M1) ✅ COMPLETE
    ↓
Unit Training (M5)
    ↓
Combat System (M6)
    ↓
Polish & Balance (M7)
```

---

## Issue Dependency Graph

### Milestone 5: Unit Training System

```
┌──────────────────────────────────────────────────────────────┐
│                  Unit Training System                         │
└──────────────────────────────────────────────────────────────┘

#95 Unit Data Model [M]
    ↓
#96 Unit Seed Data [S]
    ↓
#97 Unit Domain Models [L]
    ↓
#98 Training Service Layer [XL]
    ↓
    ├─→ #99 Training API Endpoints [L]
    │
    ├─→ #100 Job Queue Integration [M]
    │
    └─→ #101 Unit Capacity System [M]
```

**Critical Path**: #95 → #96 → #97 → #98 → #99 **Parallel Work**: After #98, can work on #99, #100,
#101 simultaneously

---

### Milestone 6: Combat System

```
┌──────────────────────────────────────────────────────────────┐
│                     Combat System                             │
└──────────────────────────────────────────────────────────────┘

#102 Combat Design [M]
    ↓
#103 Combat Engine [XL]
    ↓
#104 Combat Logging [M]
    ↓
#105 Attack Service Layer [XL]
    ↓
    ├─→ #106 Combat API Endpoints [L]
    │
    └─→ #107 NPC Attack System [L]
```

**Critical Path**: #102 → #103 → #104 → #105 → #106 **Parallel Work**: After #105, can work on #106
and #107 simultaneously

**Cross-Milestone Dependency**: #97 (Unit Domain Models) required for #103

---

### Milestone 7: Polish & Balance

```
┌──────────────────────────────────────────────────────────────┐
│                   Polish & Balance                            │
└──────────────────────────────────────────────────────────────┘

#108 Unit Balance [M] ─────┐
                           ├─→ (All balance work can happen in parallel)
#109 Resource Balance [M] ─┘
    ↓
    ├─→ #110 API Documentation [L]
    │
    ├─→ #111 Error Handling [L]
    │
    ├─→ #112 Performance Optimization [M]
    │
    └─→ #113 Integration Testing [XL]
```

**Critical Path**: #108 + #109 → #113 (Integration tests require balanced game) **Parallel Work**:
#110, #111, #112 can all happen in parallel with balance work

---

## Work Packages (Recommended Developer Flow)

### Package 1: Unit Training Foundation (Week 1-2)

**Goal**: Database ready for unit training

- [ ] #95 Unit Data Model [M] - 2-3 days
- [ ] #96 Unit Seed Data [S] - 1 day
- [ ] #97 Unit Domain Models [L] - 3-4 days

**Output**: Database schema, seed data, domain models ready

---

### Package 2: Unit Training Service (Week 2-3)

**Goal**: Unit training business logic complete

- [ ] #98 Training Service Layer [XL] - 4-5 days

**Output**: Training validation, faction bonuses, resource deduction working

---

### Package 3: Unit Training API & Jobs (Week 3-4)

**Goal**: Unit training fully functional from API

- [ ] #99 Training API Endpoints [L] - 3-4 days
- [ ] #100 Job Queue Integration [M] - 2-3 days (parallel)
- [ ] #101 Unit Capacity System [M] - 2-3 days (parallel)

**Output**: Full unit training loop working, client can integrate

---

### Package 4: Combat Design & Engine (Week 5-6)

**Goal**: Combat calculations working

- [ ] #102 Combat Design [M] - 2-3 days
- [ ] #103 Combat Engine [XL] - 4-5 days

**Output**: Combat calculator complete with unit tests

---

### Package 5: Combat Service (Week 6-7)

**Goal**: Combat orchestration and logging

- [ ] #104 Combat Logging [M] - 2-3 days
- [ ] #105 Attack Service Layer [XL] - 4-5 days

**Output**: Full attack flow working (PvP)

---

### Package 6: Combat API & NPCs (Week 8-9)

**Goal**: Combat accessible from API, NPCs attackable

- [ ] #106 Combat API Endpoints [L] - 3-4 days
- [ ] #107 NPC Attack System [L] - 3-4 days (parallel)

**Output**: Combat fully functional, both PvP and PvE

---

### Package 7: Balance (Week 9-10)

**Goal**: Game feels balanced and fair

- [ ] #108 Unit Balance [M] - 2-3 days
- [ ] #109 Resource Balance [M] - 2-3 days (parallel)

**Output**: Balanced stats, costs, production rates

---

### Package 8: Quality & Documentation (Week 10-12)

**Goal**: Production-ready quality

- [ ] #110 API Documentation [L] - 3-4 days
- [ ] #111 Error Handling [L] - 3-4 days (parallel)
- [ ] #112 Performance Optimization [M] - 2-3 days (parallel)
- [ ] #113 Integration Testing [XL] - 4-5 days (can start earlier)

**Output**: Documented, tested, optimized, production-ready v0.1.0

---

## Parallelization Opportunities

### During Unit Training (Milestone 5)

After #98 completes, 2-3 developers can work in parallel:

- Dev 1: #99 Training API Endpoints
- Dev 2: #100 Job Queue Integration
- Dev 3: #101 Unit Capacity System

### During Combat System (Milestone 6)

After #105 completes, 2 developers can work in parallel:

- Dev 1: #106 Combat API Endpoints
- Dev 2: #107 NPC Attack System

### During Polish & Balance (Milestone 7)

After balance work starts, all issues can be parallelized:

- Dev 1: #108 + #109 (Balance work)
- Dev 2: #110 API Documentation
- Dev 3: #111 Error Handling
- Dev 4: #112 Performance
- Dev 5: #113 Integration Testing (requires balance data)

---

## Effort Summary by Milestone

### Milestone 5: Unit Training System

- Total Effort: 2 XL + 2 L + 3 M + 1 S = **~21-25 days**
- With parallelization: **~15-18 days**
- Recommended team size: 2-3 developers

### Milestone 6: Combat System

- Total Effort: 2 XL + 2 L + 2 M = **~20-24 days**
- With parallelization: **~16-20 days**
- Recommended team size: 2 developers

### Milestone 7: Polish & Balance

- Total Effort: 1 XL + 2 L + 3 M = **~17-21 days**
- With parallelization: **~10-14 days**
- Recommended team size: 3-4 developers

### Total v0.1.0 Effort

- Sequential (single developer): **~58-70 days** (12-14 weeks)
- Parallel (2-4 developers): **~41-52 days** (8-10 weeks)

---

## Risk Mitigation: Blocked Work

### If blocked on #95 (Unit Data Model)

**Can work on**: Documentation, existing system improvements, balance planning

### If blocked on #98 (Training Service)

**Can work on**: API design, client mockups, integration test planning

### If blocked on #103 (Combat Engine)

**Can work on**: #104 Combat Logging schema, NPC data design, balance modeling

### If blocked on balance (#108, #109)

**Can work on**: #110 API docs, #111 Error handling, #112 Performance (use placeholder values)

---

## Success Metrics by Milestone

### After Milestone 5 (Unit Training)

- [ ] Can train all 4 unit types from API
- [ ] Faction bonuses apply correctly
- [ ] Training queue respects capacity
- [ ] Jobs complete and add units to inventory

### After Milestone 6 (Combat)

- [ ] Can attack other players via API
- [ ] Can attack NPCs via API
- [ ] Combat outcomes feel fair and strategic
- [ ] Combat logs stored correctly

### After Milestone 7 (Polish & Balance)

- [ ] New player can reach mid-game in 2-3 hours
- [ ] All APIs documented with examples
- [ ] All operations complete in <500ms
- [ ] Integration tests pass 100%
- [ ] Zero critical bugs

---

**Last Updated**: 2025-12-26 **Maintainer**: Lucas Vienna (@lucasvienna)
