CREATE TABLE building_levels
(
    id           UUID        NOT NULL DEFAULT generate_ulid(),
    building_id  INTEGER     NOT NULL,
    level        INTEGER     NOT NULL,
    upgrade_time TEXT        NOT NULL, -- "%H:%M:%S"
    req_food     INTEGER,
    req_wood     INTEGER,
    req_stone    INTEGER,
    req_gold     INTEGER,
    created_at   TIMESTAMPTZ NOT NULL DEFAULT now(),
    updated_at   TIMESTAMPTZ NOT NULL DEFAULT now(),

    UNIQUE (building_id, level),

    PRIMARY KEY (id),
    FOREIGN KEY (building_id) REFERENCES buildings (id) ON DELETE CASCADE
);

CREATE TRIGGER set_building_levels_updated_at
    BEFORE UPDATE
    ON building_levels
    FOR EACH ROW
EXECUTE FUNCTION set_current_timestamp_updated_at();

INSERT INTO building_levels (building_id, level, upgrade_time, req_food, req_wood, req_stone, req_gold)
VALUES
-- 1-10: Humans --
-- Keep
(1,  0,  '00:00:00', 0,     0,     0,     0    ), -- Keep 0
(1,  1,  '00:01:00', 1000,  1000,  1000,  1000 ), -- Keep 1
(1,  2,  '00:02:00', 2000,  2000,  2000,  2000 ), -- Keep 2
(1,  3,  '00:03:00', 3000,  3000,  3000,  3000 ), -- Keep 3
(1,  4,  '00:04:00', 4000,  4000,  4000,  4000 ), -- Keep 4
(1,  5,  '00:05:00', 5000,  5000,  5000,  5000 ), -- Keep 5
(1,  6,  '00:06:00', 6000,  6000,  6000,  6000 ), -- Keep 6
(1,  7,  '00:07:00', 7000,  7000,  7000,  7000 ), -- Keep 7
(1,  8,  '00:08:00', 8000,  8000,  8000,  8000 ), -- Keep 8
(1,  9,  '00:09:00', 9000,  9000,  9000,  9000 ), -- Keep 9
(1,  10, '00:10:00', 10000, 10000, 10000, 10000), -- Keep 10
-- Warehouse
(2,  0,  '00:00:00', 0,     0,     0,     0    ), -- Warehouse 0
(2,  1,  '00:01:00', 200,   100,   100,   50   ), -- Warehouse 1
(2,  2,  '00:02:00', 400,   200,   200,   100  ), -- Warehouse 2
(2,  3,  '00:03:00', 600,   300,   300,   150  ), -- Warehouse 3
(2,  4,  '00:04:00', 800,   400,   400,   200  ), -- Warehouse 4
(2,  5,  '00:05:00', 1000,  500,   500,   250  ), -- Warehouse 5
(2,  6,  '00:06:00', 1200,  600,   600,   300  ), -- Warehouse 6
(2,  7,  '00:07:00', 1400,  700,   700,   350  ), -- Warehouse 7
(2,  8,  '00:08:00', 1600,  800,   800,   400  ), -- Warehouse 8
(2,  9,  '00:09:00', 1800,  900,   900,   450  ), -- Warehouse 9
(2,  10, '00:10:00', 2000,  1000,  1000,  500  ), -- Warehouse 10
-- Farm
(3,  0,  '00:00:00', 0,     0,     0,     0    ), -- Farm 0
(3,  1,  '00:01:00', 100,   100,   100,   0    ), -- Farm 1
(3,  2,  '00:02:00', 200,   200,   200,   0    ), -- Farm 2
(3,  3,  '00:03:00', 300,   300,   300,   0    ), -- Farm 3
(3,  4,  '00:04:00', 400,   400,   400,   0    ), -- Farm 4
(3,  5,  '00:05:00', 500,   500,   500,   0    ), -- Farm 5
(3,  6,  '00:06:00', 600,   600,   600,   0    ), -- Farm 6
(3,  7,  '00:07:00', 700,   700,   700,   0    ), -- Farm 7
(3,  8,  '00:08:00', 800,   800,   800,   0    ), -- Farm 8
(3,  9,  '00:09:00', 900,   900,   900,   0    ), -- Farm 9
(3,  10, '00:10:00', 1000,  1000,  1000,  0    ), -- Farm 10
-- Lumberyard
(4,  0,  '00:00:00', 0,     0,     0,     0    ), -- Lumberyard 0
(4,  1,  '00:01:00', 0,     0,     100,   100  ), -- Lumberyard 1
(4,  2,  '00:02:00', 0,     0,     200,   200  ), -- Lumberyard 2
(4,  3,  '00:03:00', 0,     0,     300,   300  ), -- Lumberyard 3
(4,  4,  '00:04:00', 0,     0,     400,   400  ), -- Lumberyard 4
(4,  5,  '00:05:00', 0,     0,     500,   500  ), -- Lumberyard 5
(4,  6,  '00:06:00', 0,     0,     600,   600  ), -- Lumberyard 6
(4,  7,  '00:07:00', 0,     0,     700,   700  ), -- Lumberyard 7
(4,  8,  '00:08:00', 0,     0,     800,   800  ), -- Lumberyard 8
(4,  9,  '00:09:00', 0,     0,     900,   900  ), -- Lumberyard 9
(4,  10, '00:10:00', 0,     0,     1000,  1000 ), -- Lumberyard 10
-- Quarry
(5,  0,  '00:00:00', 0,     0,     0,     0    ), -- Quarry 0
(5,  1,  '00:01:00', 0,     100,   0,     100  ), -- Quarry 1
(5,  2,  '00:02:00', 0,     200,   0,     200  ), -- Quarry 2
(5,  3,  '00:03:00', 0,     300,   0,     300  ), -- Quarry 3
(5,  4,  '00:04:00', 0,     400,   0,     400  ), -- Quarry 4
(5,  5,  '00:05:00', 0,     500,   0,     500  ), -- Quarry 5
(5,  6,  '00:06:00', 0,     600,   0,     600  ), -- Quarry 6
(5,  7,  '00:07:00', 0,     700,   0,     700  ), -- Quarry 7
(5,  8,  '00:08:00', 0,     800,   0,     800  ), -- Quarry 8
(5,  9,  '00:09:00', 0,     900,   0,     900  ), -- Quarry 9
(5,  10, '00:10:00', 0,     1000,  0,     1000 ), -- Quarry 10
-- Mine
(6,  0,  '00:00:00', 0,     0,     0,     0    ), -- Mine 0
(6,  1,  '00:01:00', 0,     100,   100,   0    ), -- Mine 1
(6,  2,  '00:02:00', 0,     200,   200,   0    ), -- Mine 2
(6,  3,  '00:03:00', 0,     300,   300,   0    ), -- Mine 3
(6,  4,  '00:04:00', 0,     400,   400,   0    ), -- Mine 4
(6,  5,  '00:05:00', 0,     500,   500,   0    ), -- Mine 5
(6,  6,  '00:06:00', 0,     600,   600,   0    ), -- Mine 6
(6,  7,  '00:07:00', 0,     700,   700,   0    ), -- Mine 7
(6,  8,  '00:08:00', 0,     800,   800,   0    ), -- Mine 8
(6,  9,  '00:09:00', 0,     900,   900,   0    ), -- Mine 9
(6,  10, '00:10:00', 0,     1000,  1000,  0    ), -- Mine 10
-- 1-10: Orc --
-- Stronghold
(18, 0,  '00:00:00', 0,     0,     0,     0    ), -- Keep 0
(18, 1,  '00:01:00', 1000,  1000,  1000,  1000 ), -- Keep 1
(18, 2,  '00:02:00', 2000,  2000,  2000,  2000 ), -- Keep 2
(18, 3,  '00:03:00', 3000,  3000,  3000,  3000 ), -- Keep 3
(18, 4,  '00:04:00', 4000,  4000,  4000,  4000 ), -- Keep 4
(18, 5,  '00:05:00', 5000,  5000,  5000,  5000 ), -- Keep 5
(18, 6,  '00:06:00', 6000,  6000,  6000,  6000 ), -- Keep 6
(18, 7,  '00:07:00', 7000,  7000,  7000,  7000 ), -- Keep 7
(18, 8,  '00:08:00', 8000,  8000,  8000,  8000 ), -- Keep 8
(18, 9,  '00:09:00', 9000,  9000,  9000,  9000 ), -- Keep 9
(18, 10, '00:10:00', 10000, 10000, 10000, 10000), -- Keep 10
-- Warehouse
(19, 0,  '00:00:00', 0,     0,     0,     0    ), -- Warehouse 0
(19, 1,  '00:01:00', 200,   100,   100,   50   ), -- Warehouse 1
(19, 2,  '00:02:00', 400,   200,   200,   100  ), -- Warehouse 2
(19, 3,  '00:03:00', 600,   300,   300,   150  ), -- Warehouse 3
(19, 4,  '00:04:00', 800,   400,   400,   200  ), -- Warehouse 4
(19, 5,  '00:05:00', 1000,  500,   500,   250  ), -- Warehouse 5
(19, 6,  '00:06:00', 1200,  600,   600,   300  ), -- Warehouse 6
(19, 7,  '00:07:00', 1400,  700,   700,   350  ), -- Warehouse 7
(19, 8,  '00:08:00', 1600,  800,   800,   400  ), -- Warehouse 8
(19, 9,  '00:09:00', 1800,  900,   900,   450  ), -- Warehouse 9
(19, 10, '00:10:00', 2000,  1000,  1000,  500  ), -- Warehouse 10
-- Farm
(20, 0,  '00:00:00', 0,     0,     0,     0    ), -- Farm 0
(20, 1,  '00:01:00', 100,   100,   100,   0    ), -- Farm 1
(20, 2,  '00:02:00', 200,   200,   200,   0    ), -- Farm 2
(20, 3,  '00:03:00', 300,   300,   300,   0    ), -- Farm 3
(20, 4,  '00:04:00', 400,   400,   400,   0    ), -- Farm 4
(20, 5,  '00:05:00', 500,   500,   500,   0    ), -- Farm 5
(20, 6,  '00:06:00', 600,   600,   600,   0    ), -- Farm 6
(20, 7,  '00:07:00', 700,   700,   700,   0    ), -- Farm 7
(20, 8,  '00:08:00', 800,   800,   800,   0    ), -- Farm 8
(20, 9,  '00:09:00', 900,   900,   900,   0    ), -- Farm 9
(20, 10, '00:10:00', 1000,  1000,  1000,  0    ), -- Farm 10
-- Lumberyard
(21, 0,  '00:00:00', 0,     0,     0,     0    ), -- Lumberyard 0
(21, 1,  '00:01:00', 0,     0,     100,   100  ), -- Lumberyard 1
(21, 2,  '00:02:00', 0,     0,     200,   200  ), -- Lumberyard 2
(21, 3,  '00:03:00', 0,     0,     300,   300  ), -- Lumberyard 3
(21, 4,  '00:04:00', 0,     0,     400,   400  ), -- Lumberyard 4
(21, 5,  '00:05:00', 0,     0,     500,   500  ), -- Lumberyard 5
(21, 6,  '00:06:00', 0,     0,     600,   600  ), -- Lumberyard 6
(21, 7,  '00:07:00', 0,     0,     700,   700  ), -- Lumberyard 7
(21, 8,  '00:08:00', 0,     0,     800,   800  ), -- Lumberyard 8
(21, 9,  '00:09:00', 0,     0,     900,   900  ), -- Lumberyard 9
(21, 10, '00:10:00', 0,     0,     1000,  1000 ), -- Lumberyard 10
-- Quarry
(22, 0,  '00:00:00', 0,     0,     0,     0    ), -- Quarry 0
(22, 1,  '00:01:00', 0,     100,   0,     100  ), -- Quarry 1
(22, 2,  '00:02:00', 0,     200,   0,     200  ), -- Quarry 2
(22, 3,  '00:03:00', 0,     300,   0,     300  ), -- Quarry 3
(22, 4,  '00:04:00', 0,     400,   0,     400  ), -- Quarry 4
(22, 5,  '00:05:00', 0,     500,   0,     500  ), -- Quarry 5
(22, 6,  '00:06:00', 0,     600,   0,     600  ), -- Quarry 6
(22, 7,  '00:07:00', 0,     700,   0,     700  ), -- Quarry 7
(22, 8,  '00:08:00', 0,     800,   0,     800  ), -- Quarry 8
(22, 9,  '00:09:00', 0,     900,   0,     900  ), -- Quarry 9
(22, 10, '00:10:00', 0,     1000,  0,     1000 ), -- Quarry 10
-- Mine
(23, 0,  '00:00:00', 0,     0,     0,     0    ), -- Mine 0
(23, 1,  '00:01:00', 0,     100,   100,   0    ), -- Mine 1
(23, 2,  '00:02:00', 0,     200,   200,   0    ), -- Mine 2
(23, 3,  '00:03:00', 0,     300,   300,   0    ), -- Mine 3
(23, 4,  '00:04:00', 0,     400,   400,   0    ), -- Mine 4
(23, 5,  '00:05:00', 0,     500,   500,   0    ), -- Mine 5
(23, 6,  '00:06:00', 0,     600,   600,   0    ), -- Mine 6
(23, 7,  '00:07:00', 0,     700,   700,   0    ), -- Mine 7
(23, 8,  '00:08:00', 0,     800,   800,   0    ), -- Mine 8
(23, 9,  '00:09:00', 0,     900,   900,   0    ), -- Mine 9
(23, 10, '00:10:00', 0,     1000,  1000,  0    ) -- Mine 10
;
